{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Strafe\\\\strafe frontend\\\\src\\\\uicomponent\\\\TableRow.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport CartService from '../services/CartService';\nimport ProductService from '../services/ProductService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TableRow = _ref => {\n  _s();\n\n  let {\n    cart,\n    deleteCart\n  } = _ref;\n  const [product, setProduct] = useState({});\n  const [cartUpdate, setCartUpdate] = useState(cart);\n  useEffect(() => {\n    const fetchProduct = async productId => {\n      try {\n        const response = await ProductService.getProductById(productId);\n        setProduct(response.data);\n        console.log(\"Product\", product);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    let id = cart.productId;\n    fetchProduct(id);\n  }, []);\n\n  const saveUpdate = async e => {\n    const value = e.target.value;\n    setCartUpdate({ ...cartUpdate,\n      [e.target.name]: value\n    });\n\n    try {\n      const response = await CartService.editCart(cart.id, cartUpdate);\n      console.log(response);\n      console.log(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n\n    console.log(cartUpdate);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: [cart.id, \".\", product.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: product.price * cart.quantity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"quantity\",\n        value: cart.quantity,\n        onChange: e => saveUpdate,\n        children: [...Array(product.quantity).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: x + 1,\n          children: x + 1\n        }, x + 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          deleteCart(e, cart.id);\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n};\n\n_s(TableRow, \"m8iAbP+qmBt6VOYV/KR7RMqtxUs=\");\n\n_c = TableRow;\nexport default TableRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableRow\");","map":{"version":3,"names":["React","useState","useEffect","CartService","ProductService","TableRow","cart","deleteCart","product","setProduct","cartUpdate","setCartUpdate","fetchProduct","productId","response","getProductById","data","console","log","error","id","saveUpdate","e","value","target","name","editCart","price","quantity","Array","keys","map","x"],"sources":["C:/Users/ADMIN/Desktop/Strafe/strafe frontend/src/uicomponent/TableRow.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useEffect } from 'react';\r\nimport CartService from '../services/CartService';\r\nimport ProductService from '../services/ProductService';\r\n\r\nconst TableRow = ({cart, deleteCart}) => {\r\n  const[product, setProduct] = useState({});\r\n  const[cartUpdate, setCartUpdate] = useState(cart);\r\n  useEffect(() => {\r\n    const fetchProduct = async (productId) =>{\r\n        try{\r\n            const response = await ProductService.getProductById(productId);\r\n            setProduct(response.data);\r\n            console.log(\"Product\",product);\r\n        }catch(error)\r\n        {\r\n            console.log(error);\r\n        }\r\n    }\r\n    let id = cart.productId;\r\n   fetchProduct(id)\r\n  }, [])\r\n  \r\n const saveUpdate = async (e)=>{\r\n  const value = e.target.value;\r\n  setCartUpdate({...cartUpdate,[e.target.name]:value});\r\n    try{\r\n      const response = await CartService.editCart(cart.id,cartUpdate);\r\n      console.log(response);\r\n      console.log(response.data);\r\n    }catch(error)\r\n    {\r\n      console.log(error);\r\n    }\r\n    console.log(cartUpdate);\r\n }\r\n  return (\r\n      <tr>\r\n        <td>{cart.id}.{product.name}</td>\r\n        <td>{product.price * cart.quantity}</td>\r\n        <td><select name='quantity' value={cart.quantity} onChange={(e) => saveUpdate}>{[...Array(product.quantity).keys()].map((x) =>(\r\n          <option key={x+1} value={x+1} >{x+1}</option>\r\n        ))}</select></td>\r\n        <td><button onClick={(e) =>{deleteCart(e,cart.id)}}>Delete</button></td>\r\n      </tr>\r\n\r\n  )\r\n}\r\n\r\nexport default TableRow"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;;;AAEA,MAAMC,QAAQ,GAAG,QAAwB;EAAA;;EAAA,IAAvB;IAACC,IAAD;IAAOC;EAAP,CAAuB;EACvC,MAAK,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAArC;EACA,MAAK,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAACK,IAAD,CAA3C;EACAJ,SAAS,CAAC,MAAM;IACd,MAAMU,YAAY,GAAG,MAAOC,SAAP,IAAoB;MACrC,IAAG;QACC,MAAMC,QAAQ,GAAG,MAAMV,cAAc,CAACW,cAAf,CAA8BF,SAA9B,CAAvB;QACAJ,UAAU,CAACK,QAAQ,CAACE,IAAV,CAAV;QACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBV,OAAtB;MACH,CAJD,CAIC,OAAMW,KAAN,EACD;QACIF,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACH;IACJ,CATD;;IAUA,IAAIC,EAAE,GAAGd,IAAI,CAACO,SAAd;IACDD,YAAY,CAACQ,EAAD,CAAZ;EACA,CAbQ,EAaN,EAbM,CAAT;;EAeD,MAAMC,UAAU,GAAG,MAAOC,CAAP,IAAW;IAC7B,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;IACAZ,aAAa,CAAC,EAAC,GAAGD,UAAJ;MAAe,CAACY,CAAC,CAACE,MAAF,CAASC,IAAV,GAAgBF;IAA/B,CAAD,CAAb;;IACE,IAAG;MACD,MAAMT,QAAQ,GAAG,MAAMX,WAAW,CAACuB,QAAZ,CAAqBpB,IAAI,CAACc,EAA1B,EAA6BV,UAA7B,CAAvB;MACAO,OAAO,CAACC,GAAR,CAAYJ,QAAZ;MACAG,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,IAArB;IACD,CAJD,CAIC,OAAMG,KAAN,EACD;MACEF,OAAO,CAACC,GAAR,CAAYC,KAAZ;IACD;;IACDF,OAAO,CAACC,GAAR,CAAYR,UAAZ;EACF,CAZD;;EAaC,oBACI;IAAA,wBACE;MAAA,WAAKJ,IAAI,CAACc,EAAV,OAAeZ,OAAO,CAACiB,IAAvB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAA,UAAKjB,OAAO,CAACmB,KAAR,GAAgBrB,IAAI,CAACsB;IAA1B;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAA,uBAAI;QAAQ,IAAI,EAAC,UAAb;QAAwB,KAAK,EAAEtB,IAAI,CAACsB,QAApC;QAA8C,QAAQ,EAAGN,CAAD,IAAOD,UAA/D;QAAA,UAA4E,CAAC,GAAGQ,KAAK,CAACrB,OAAO,CAACoB,QAAT,CAAL,CAAwBE,IAAxB,EAAJ,EAAoCC,GAApC,CAAyCC,CAAD,iBACtH;UAAkB,KAAK,EAAEA,CAAC,GAAC,CAA3B;UAAA,UAAgCA,CAAC,GAAC;QAAlC,GAAaA,CAAC,GAAC,CAAf;UAAA;UAAA;UAAA;QAAA,QAD8E;MAA5E;QAAA;QAAA;QAAA;MAAA;IAAJ;MAAA;MAAA;MAAA;IAAA,QAHF,eAME;MAAA,uBAAI;QAAQ,OAAO,EAAGV,CAAD,IAAM;UAACf,UAAU,CAACe,CAAD,EAAGhB,IAAI,CAACc,EAAR,CAAV;QAAsB,CAA9C;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAJ;MAAA;MAAA;MAAA;IAAA,QANF;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAWD,CA1CD;;GAAMf,Q;;KAAAA,Q;AA4CN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}